<!DOCTYPE html>
<html lang="en">
    <head>
        <title></title>
        <link rel="stylesheet" href="..&#x2F;..&#x2F;../assets/css/bootstrap.css">
        <link rel="stylesheet" href="..&#x2F;..&#x2F;../assets/css/typeahead.js-bootstrap.css">
        <link rel="stylesheet" href="..&#x2F;..&#x2F;../assets/css/font-awesome.css">
        <link rel="stylesheet" href="..&#x2F;..&#x2F;../assets/css/highlight.css">
        <link rel="stylesheet" href="..&#x2F;..&#x2F;../assets/css/main.css">
        <!--[if IE 7]>
        <link rel="stylesheet" href="../assets/css/font-awesome-ie7.css">
        <![endif]-->
        <script type="text/javascript" src="..&#x2F;..&#x2F;../assets/js/jquery-1.9.1.js"></script>
        <script type="text/javascript" src="..&#x2F;..&#x2F;../assets/js/bootstrap.js"></script>
        <script type="text/javascript" src="..&#x2F;..&#x2F;../assets/js/typeahead.js"></script>
        <script type="text/javascript" src="..&#x2F;..&#x2F;../assets/js/highlight.pack.js"></script>
        <script type="text/javascript" src="..&#x2F;..&#x2F;../assets/js/main.js"></script>
        
        <script>
            window.moduleLevel = "../../..";
        </script>
    </head>
    <body>
        <div class="row-fluid">
            <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="..&#x2F;..&#x2F;../index.html">apify API</a>
            <div class="nav-collapse collapse">
                <ul class="nav">
                    <li><a href="#dependencies">Dependencies</a></li>
                    <li><a href="#variables">Variables</a></li>
                    <li><a href="#functions">Functions</a></li>
                    <li><a href="#classes">Classes</a></li>
                </ul>
            </div>
            <input class="typeahead" placeholder="Search..." type="text" >
        </div>
    </div>
</div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span12">
                    <div class="page-header">
                        <h1>ModuleParser</h1>
                    </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span3">
                    <div class="left-section">
                        <ul class="nav nav-list">
    <li class="nav-header">
        <a href="#" id="toggle-other-modules"><i class="icon-folder-close"></i> Modules (8)</a>
    </li>
</ul>
<ul class="nav nav-list package-list">
    <li class="nav-header">
        <a href="javascript:;" class="toggle-package" data-package="package_"><i class="icon-folder-open"></i></a>
    </li>
</ul>
<ul id="package_" class="nav nav-list">
    <li><a href="..&#x2F;..&#x2F;../modules/Documenter.html">Documenter</a></li>
</ul>                
<ul class="nav nav-list package-list">
    <li class="nav-header">
        <a href="javascript:;" class="toggle-package" data-package="package_language_js"><i class="icon-folder-open"></i>language.js</a>
    </li>
</ul>
<ul id="package_language_js" class="nav nav-list">
    <li><a href="..&#x2F;..&#x2F;../modules/language&#x2F;js&#x2F;GoogleClosureProcessor.html">GoogleClosureProcessor</a></li>
    <li><a href="..&#x2F;..&#x2F;../modules/language&#x2F;js&#x2F;IndexGenerator.html">IndexGenerator</a></li>
    <li><a href="..&#x2F;..&#x2F;../modules/language&#x2F;js&#x2F;ModuleGenerator.html">ModuleGenerator</a></li>
    <li><a href="..&#x2F;..&#x2F;../modules/language&#x2F;js&#x2F;ModuleParser.html">ModuleParser</a></li>
    <li><a href="..&#x2F;..&#x2F;../modules/language&#x2F;js&#x2F;RequireProcessor.html">RequireProcessor</a></li>
    <li><a href="..&#x2F;..&#x2F;../modules/language&#x2F;js&#x2F;SearchGenerator.html">SearchGenerator</a></li>
</ul>                
<ul class="nav nav-list package-list">
    <li class="nav-header">
        <a href="javascript:;" class="toggle-package" data-package="package_utils"><i class="icon-folder-open"></i>utils</a>
    </li>
</ul>
<ul id="package_utils" class="nav nav-list">
    <li><a href="..&#x2F;..&#x2F;../modules/utils&#x2F;Workspace.html">Workspace</a></li>
</ul>                

                    </div>
                </div>
                <div class="span9">
                    <section>
                        <div id="description">
                            <p>Default JS parser for the modules on the documented fileset.<br />Parses the file data using dox, and then runs the output through the different registered processors.</p>
                        </div>
                    </section>
        
                    <section id="dependencies">
                        <h3>Dependencies</h3>
                        
                        <ul class="nav nav-list">
                            <li><a href="..&#x2F;..&#x2F;../modules/underscore.html">underscore</a></li>
                            <li><a href="..&#x2F;..&#x2F;../modules/deferred.html">deferred</a></li>
                            <li><a href="..&#x2F;..&#x2F;../modules/dox.html">dox</a></li>
                            <li><a href="..&#x2F;..&#x2F;../modules/filequeue.html">filequeue</a></li>
                        </ul>
                        
                        
                    </section>
        
        
                    <section id="functions">
                        <h3>Functions 
                            <label class="checkbox">
                                <input class="toggle-public" type="checkbox"> Show Private Members
                            </label>
                        </h3>
                        
                        <div class="member private">
                            <span class="pull-right scope">
                                Private
                                
                            </span>
                            <h4>_sortMembers</h4>
                            <em><p>Sorts an array of module members by their names</p></em>
                            <dl>
                                    <dt>The</dt>
                                    <dd class="label label-info pull-left">Array.&lt;Object&gt;</dd>
                                    <dd>array of module members</dd>
                            </dl>
                            <button class="btn btn-small show-code">Show code</button>
                            <pre class="code"><code>function _sortMembers(members, sortFunc) {
        sortFunc = sortFunc || function (el) {
            return el.ctx.name;
        };
        
        return _.sortBy(members, sortFunc);
    }</code></pre>
                        </div>
                        
                    </section>
                    
                    <section id="classes">
                        <h2>Classes</h2>
                        
                            <div class="well">
                                <div class="member public">
                                    <span class="pull-right scope">
                                        Constructor
                                    </span>
                                    <h4>ModuleParser</h4>
                                    <em><p></p></em>
                                    <dl>
                                    </dl>
                                    
                                    <button class="btn btn-small show-code">Show code</button>
                                    <pre class="code"><code>var ModuleParser = function (processors) {
        this.processors = processors ||Â [];
    };</code></pre>
                                </div>
            
            
                                <section class="methods">
                                    <h3>Methods 
                                        <label class="checkbox">
                                            <input class="toggle-public" type="checkbox"> Show Private Members
                                        </label>
                                    </h3>
                                    
                                    <div class="member">
                                        <span class="pull-right scope">
                                            
                                            
                                        </span>
                                        <h4>parse</h4>
                                        <em><p>Analyzes and parses a module</p></em>
                                        <dl>
                                            <dt>url</dt>
                                            <dd class="label label-info pull-left">string</dd>
                                            <dd>Path of the module to analyze</dd>
                                        </dl>
                                        <dl>
                                            <dt>Returns: </dt>
                                            <dd class="label label-info pull-left">Promise</dd>
                                            <dd>A promise to be resolved with the parsed module</dd>
                                        </dl>
                                        <button class="btn btn-small show-code">Show code</button>
                                        <pre class="code"><code>ModuleParser.prototype.parse = function (url) {
        var instance = this,
            def = deferred();
        
        fq.readFile(url, &#39;UTF-8&#39;, function (err, data) {
            if (err) {
                throw err;
            }
            
            var module = {
                classes: {},
                dependencies: [],
                description: &quot;&quot;,
                exports: [],
                functions: [],
                variables: []
            };
            
            &#x2F;&#x2F; Initialize processors with module loaded data
            var moduleProcessors = instance.processors.map(function (Processor) {
                return new Processor(data);
            });
            
            var parsedData  = [];
            
            try {
                parsedData = dox.parseComments(data, {});
            } catch (error) {
                console.error(&quot;Error parsing &quot; + url);
                console.error(error);
            }
            
            &#x2F;&#x2F; Run the pre-process hook for the module
            moduleProcessors.forEach(function (processor) {
                if (processor.processModule) {
                    module = processor.processModule(module);
                }
            });
            
            parsedData.forEach(function (comment) {
                
                &#x2F;&#x2F; Run the comment through all registered comment processors
                moduleProcessors.forEach(function (processor) {
                    if (processor.processComment) {
                        comment = processor.processComment(comment);
                    }
                });
                
                var context = comment.ctx;
                
                if (context) {
                    
                    if (context.type === &quot;declaration&quot;) {
                        module.variables.push(comment);
                    }
                    
                    if (context.type === &quot;function&quot;) {
                        
                        if (comment.isConstructor) {
                            
                            module.classes[context.name] = {
                                constructor: comment,
                                properties: [],
                                methods: []
                            };
                            
                        } else {
                            
                            module.functions.push(comment);
                            
                        }
                    }
                    
                    if (context.type === &quot;method&quot; &amp;&amp; module.classes[context.constructor]) {
                        module.classes[context.constructor].methods.push(comment);
                    }
                    
                    if (context.type === &quot;property&quot; &amp;&amp; module.classes[context.constructor]) {
                        module.classes[context.constructor].properties.push(comment);
                    }
                    
                } else {
                    
                    if ((comment.code &amp;&amp; comment.code.indexOf(&quot;(function ()&quot;) === 0) || comment.type === &quot;description&quot;) {
                        module.description = comment.description.full;
                    }
                    
                }
            });
            
            module.dependencies = _sortMembers(module.dependencies, function (el) { return el; });
            module.variables = _sortMembers(module.variables);
            module.functions = _sortMembers(module.functions);
            module.classes = _.toArray(module.classes).map(function (clazz) {
                clazz.properties = _sortMembers(clazz.properties);
                clazz.methods = _sortMembers(clazz.methods);
                return clazz;
            });
            
            def.resolve(module);
        });
        
        return def.promise;
    };
    
    module.exports = ModuleParser;
    
}());</code></pre>
                                    </div>
                                </section>
                                
                            </div>
                        
                    </section>
                    
                </div>
            </div>
        </div>
        
        <script>hljs.initHighlightingOnLoad();</script>
    </body>
</html>